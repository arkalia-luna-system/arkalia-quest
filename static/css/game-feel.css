/**
 * Game Feel — Micro-interactions et feedback satisfaisant
 * Références: CHI 2024 Juicy Feedback, Sitepoint/Codrops button micro-interactions
 * Pour rendre le jeu fun, agréable et visuellement au top.
 */

/* CTA principal (index) : hover satisfaisant + pulse léger */
.cta-btn.primary {
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1),
                box-shadow 0.3s ease,
                border-color 0.2s ease;
}
.cta-btn.primary:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 12px 40px rgba(0, 255, 0, 0.35),
                0 0 60px rgba(0, 255, 0, 0.15);
}
.cta-btn.primary:active {
    transform: translateY(-2px) scale(0.99);
    transition-duration: 0.1s;
}
/* Pulse très subtil pour attirer l'œil sur le CTA principal */
.cta-btn.primary .cta-icon {
    animation: game-feel-pulse-soft 2.5s ease-in-out infinite;
}
@keyframes game-feel-pulse-soft {
    0%, 100% { opacity: 1; filter: drop-shadow(0 0 12px rgba(0, 255, 0, 0.5)); }
    50%  { opacity: 0.9; filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.6)); }
}

/* Bouton Exécuter terminal : hover + active satisfaisants */
.terminal-send {
    transition: transform 0.15s cubic-bezier(0.34, 1.2, 0.64, 1),
                box-shadow 0.2s ease,
                background 0.2s ease;
}
.terminal-send:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 20px rgba(167, 139, 250, 0.4);
}
.terminal-send:active {
    transform: scale(0.98);
    transition-duration: 0.08s;
}

/* Boutons de commande rapide (terminal) : accessibilité */
.command-btn:focus-visible {
    outline: 2px solid var(--matrix-green, #00ff00);
    outline-offset: 2px;
}
body.reduced-motion .command-btn:hover {
    transform: none;
}

/* Boutons de commande rapide terminal : même langage visuel (Beastieball) */
.command-btn {
    transition: transform 0.2s cubic-bezier(0.34, 1.2, 0.64, 1),
                box-shadow 0.25s ease,
                border-color 0.2s ease;
}
.command-btn:hover {
    transform: translateY(-3px) scale(1.02);
}
.command-btn:active {
    transform: translateY(-1px) scale(0.98);
    transition-duration: 0.1s;
}
.command-btn:focus-visible {
    outline: 2px solid var(--matrix-green, #00ff00);
    outline-offset: 3px;
}

/* Indicateur flottant succès (juicy feedback) */
.game-feel-float-success {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Share Tech Mono', monospace;
    font-size: 1.2em;
    font-weight: 700;
    color: #10b981;
    text-shadow: 0 0 10px rgba(16, 185, 129, 0.8);
    pointer-events: none;
    z-index: 10;
    animation: game-feel-float-up 1.2s ease-out forwards;
    opacity: 0;
}
@keyframes game-feel-float-up {
    0%   { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    20%  { opacity: 1; transform: translate(-50%, -60%) scale(1.2); }
    80%  { opacity: 0.9; transform: translate(-50%, -120%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -150%) scale(0.8); }
}

/* Cartes fonctionnalités (index) : hover plus réactif */
.feature-card {
    transition: transform 0.25s cubic-bezier(0.34, 1.2, 0.64, 1),
                box-shadow 0.3s ease,
                border-color 0.2s ease;
}
.feature-card:hover {
    transform: translateY(-6px) scale(1.02);
}

/* Accessibilité : respect reduced-motion et focus visible */
@media (prefers-reduced-motion: reduce) {
    .cta-btn.primary .cta-icon,
    .game-feel-float-success { animation: none !important; }
    .cta-btn.primary:hover { transform: translateY(-2px); }
    .game-feel-float-success { animation: game-feel-float-fade 0.6s ease-out forwards !important; }
    .command-btn:hover { transform: none; }
    .terminal-send:hover { transform: none; }
    .feature-card:hover { transform: none; }
}
body.reduced-motion .cta-btn.primary .cta-icon,
body.reduced-motion .game-feel-float-success,
body.reduced-motion .acte1-modal.celebrate { animation: none !important; }
body.reduced-motion .game-feel-float-success { opacity: 1; animation: game-feel-float-fade 0.6s ease-out forwards !important; }
body.reduced-motion .command-btn:hover { transform: none; }
body.reduced-motion .terminal-send:hover { transform: none; }
body.reduced-motion .feature-card:hover { transform: none; }
@keyframes game-feel-float-fade {
    0%   { opacity: 0; }
    30%  { opacity: 1; }
    70%  { opacity: 1; }
    100% { opacity: 0; }
}

.cta-btn:focus-visible,
.cta-btn.primary:focus-visible,
.terminal-send:focus-visible {
    outline: 2px solid var(--matrix-green, #00ff00);
    outline-offset: 3px;
}

/* Navbar : bouton burger (menu mobile) */
.burger-btn:focus-visible {
    outline: 2px solid var(--violet-lunaire, #a78bfa);
    outline-offset: 3px;
}
