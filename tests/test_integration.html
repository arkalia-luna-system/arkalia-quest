<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test d'intÃ©gration des systÃ¨mes adaptatifs</title>
    <style>
        body {
            font-family: 'IBM Plex Mono', monospace;
            background: #000;
            color: #00ff00;
            padding: 20px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #00ff00;
            border-radius: 8px;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .success { background: rgba(0, 255, 0, 0.1); }
        .error { background: rgba(255, 0, 0, 0.1); }
        .info { background: rgba(0, 150, 255, 0.1); }
    </style>
</head>
<body>
    <h1>ğŸ§ª Test d'intÃ©gration des systÃ¨mes adaptatifs Arkalia Quest</h1>
    
    <div class="test-section">
        <h2>ğŸ“ VÃ©rification des fichiers</h2>
        <div id="file-tests"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ¯ Test des systÃ¨mes JavaScript</h2>
        <div id="js-tests"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ¨ Test des styles CSS</h2>
        <div id="css-tests"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”§ Test des fonctionnalitÃ©s</h2>
        <div id="feature-tests"></div>
    </div>

    <script>
        // Test des fichiers
        function testFiles() {
            const files = [
                'static/js/adaptive-guidance.js',
                'static/js/progression-feedback.js',
                'static/js/competitive-system.js',
                'static/js/creative-system.js',
                'static/js/casual-system.js',
                'static/css/adaptive-guidance.css',
                'static/css/progression-feedback.css',
                'static/css/competitive-system.css',
                'static/css/creative-system.css',
                'static/css/casual-system.css'
            ];
            
            const fileTestsDiv = document.getElementById('file-tests');
            
            files.forEach(file => {
                fetch(file)
                    .then(response => {
                        const div = document.createElement('div');
                        div.className = 'test-result';
                        if (response.ok) {
                            div.className += ' success';
                            div.innerHTML = `âœ… ${file} - OK (${response.status})`;
                        } else {
                            div.className += ' error';
                            div.innerHTML = `âŒ ${file} - ERREUR (${response.status})`;
                        }
                        fileTestsDiv.appendChild(div);
                    })
                    .catch(error => {
                        const div = document.createElement('div');
                        div.className = 'test-result error';
                        div.innerHTML = `âŒ ${file} - ERREUR: ${error.message}`;
                        fileTestsDiv.appendChild(div);
                    });
            });
        }
        
        // Test des systÃ¨mes JavaScript
        function testJavaScript() {
            const jsTestsDiv = document.getElementById('js-tests');
            
            const systems = [
                { name: 'AdaptiveGuidance', obj: window.adaptiveGuidance },
                { name: 'ProgressionFeedback', obj: window.progressionFeedback },
                { name: 'CompetitiveSystem', obj: window.competitiveSystem },
                { name: 'CreativeSystem', obj: window.creativeSystem },
                { name: 'CasualSystem', obj: window.casualSystem }
            ];
            
            systems.forEach(system => {
                const div = document.createElement('div');
                div.className = 'test-result';
                
                if (system.obj) {
                    div.className += ' success';
                    div.innerHTML = `âœ… ${system.name} - InitialisÃ© correctement`;
                } else {
                    div.className += ' error';
                    div.innerHTML = `âŒ ${system.name} - Non initialisÃ©`;
                }
                jsTestsDiv.appendChild(div);
            });
        }
        
        // Test des styles CSS
        function testCSS() {
            const cssTestsDiv = document.getElementById('css-tests');
            
            const styles = [
                '.adaptive-guidance',
                '.progression-feedback',
                '.competitive-system',
                '.creative-system',
                '.casual-system'
            ];
            
            styles.forEach(style => {
                const div = document.createElement('div');
                div.className = 'test-result';
                
                // CrÃ©er un Ã©lÃ©ment temporaire pour tester le style
                const testEl = document.createElement('div');
                testEl.className = style.replace('.', '');
                testEl.style.display = 'none';
                document.body.appendChild(testEl);
                
                const computedStyle = window.getComputedStyle(testEl);
                
                if (computedStyle.display !== 'none' || testEl.className) {
                    div.className += ' success';
                    div.innerHTML = `âœ… ${style} - Style disponible`;
                } else {
                    div.className += ' error';
                    div.innerHTML = `âŒ ${style} - Style non trouvÃ©`;
                }
                
                document.body.removeChild(testEl);
                cssTestsDiv.appendChild(div);
            });
        }
        
        // Test des fonctionnalitÃ©s
        function testFeatures() {
            const featureTestsDiv = document.getElementById('feature-tests');
            
            // Test de la guidance adaptative
            if (window.adaptiveGuidance) {
                const div = document.createElement('div');
                div.className = 'test-result success';
                div.innerHTML = 'âœ… Guidance adaptative - SystÃ¨me de dÃ©tection de profil actif';
                featureTestsDiv.appendChild(div);
            }
            
            // Test du feedback de progression
            if (window.progressionFeedback) {
                const div = document.createElement('div');
                div.className = 'test-result success';
                div.innerHTML = 'âœ… Feedback de progression - MÃ©triques de performance actives';
                featureTestsDiv.appendChild(div);
            }
            
            // Test du systÃ¨me compÃ©titif
            if (window.competitiveSystem) {
                const div = document.createElement('div');
                div.className = 'test-result success';
                div.innerHTML = 'âœ… SystÃ¨me compÃ©titif - DÃ©fis et badges disponibles';
                featureTestsDiv.appendChild(div);
            }
            
            // Test du systÃ¨me crÃ©atif
            if (window.creativeSystem) {
                const div = document.createElement('div');
                div.className = 'test-result success';
                div.innerHTML = 'âœ… SystÃ¨me crÃ©atif - Easter eggs et thÃ¨mes disponibles';
                featureTestsDiv.appendChild(div);
            }
            
            // Test du systÃ¨me casual
            if (window.casualSystem) {
                const div = document.createElement('div');
                div.className = 'test-result success';
                div.innerHTML = 'âœ… SystÃ¨me casual - RÃ©compenses d\'inactivitÃ© actives';
                featureTestsDiv.appendChild(div);
            }
        }
        
        // Charger les scripts de test
        function loadTestScripts() {
            const scripts = [
                'static/js/adaptive-guidance.js',
                'static/js/progression-feedback.js',
                'static/js/competitive-system.js',
                'static/js/creative-system.js',
                'static/js/casual-system.js'
            ];
            
            let loaded = 0;
            scripts.forEach(script => {
                const scriptEl = document.createElement('script');
                scriptEl.src = script;
                scriptEl.onload = () => {
                    loaded++;
                    if (loaded === scripts.length) {
                        setTimeout(() => {
                            testJavaScript();
                            testFeatures();
                        }, 1000);
                    }
                };
                scriptEl.onerror = () => {
                    console.error(`Erreur de chargement: ${script}`);
                };
                document.head.appendChild(scriptEl);
            });
        }
        
        // Charger les styles de test
        function loadTestStyles() {
            const styles = [
                'static/css/adaptive-guidance.css',
                'static/css/progression-feedback.css',
                'static/css/competitive-system.css',
                'static/css/creative-system.css',
                'static/css/casual-system.css'
            ];
            
            styles.forEach(style => {
                const linkEl = document.createElement('link');
                linkEl.rel = 'stylesheet';
                linkEl.href = style;
                document.head.appendChild(linkEl);
            });
        }
        
        // Initialiser les tests
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ§ª DÃ©marrage des tests d\'intÃ©gration');
            
            // Charger les styles
            loadTestStyles();
            
            // Tester les fichiers
            testFiles();
            
            // Charger les scripts et tester
            loadTestScripts();
            
            // Tester les styles aprÃ¨s un dÃ©lai
            setTimeout(testCSS, 2000);
        });
    </script>
</body>
</html>
