<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>📊 ARKALIA QUEST - DASHBOARD LUNA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- PWA Meta Tags -->
    <meta name="description"
        content="Dashboard de contrôle d'Arkalia Quest. Surveille ta progression et tes performances avec LUNA.">
    <meta name="theme-color" content="#a78bfa">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- PWA Icons -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/icons/icon-16x16.png">
    <link rel="apple-touch-icon" href="/static/icons/icon-192x192.png">

    <!-- CSS LUNA VISION -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/arkalia-luna-vision.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/accessibility.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/interface-improvements.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/empty-states.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/game-interface.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mission-interface.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reward-animations.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/loading-animations.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/progression-animations.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/adaptive-guidance.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/progression-feedback.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/competitive-system.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/creative-system.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/casual-system.css') }}">

    <style>
        /* Styles spécifiques au dashboard immersif */
        .dashboard-workspace {
            min-height: 100vh;
            background: linear-gradient(135deg, rgba(9, 9, 11, 0.95) 0%, rgba(30, 30, 40, 0.95) 100%);
            position: relative;
            overflow: hidden;
        }

        .dashboard-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 80%, rgba(167, 139, 250, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(96, 165, 250, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(167, 139, 250, 0.04) 0%, transparent 50%);
            animation: dashboardAmbient 15s ease-in-out infinite;
        }

        @keyframes dashboardAmbient {

            0%,
            100% {
                opacity: 0.3;
                transform: scale(1);
            }

            50% {
                opacity: 0.6;
                transform: scale(1.02);
            }
        }

        .dashboard-container {
            padding: 30px 20px;
            position: relative;
            z-index: 2;
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .dashboard-title {
            font-family: 'Cormorant', serif;
            font-size: 3em;
            font-weight: 700;
            color: var(--violet-lunaire);
            text-shadow: 0 0 30px rgba(167, 139, 250, 0.6);
            margin-bottom: 15px;
            opacity: 0;
            animation: fadeInUp 1.5s ease-out 0.5s forwards;
        }

        .dashboard-subtitle {
            font-family: 'Inter', sans-serif;
            font-size: 1.2em;
            color: var(--argent-holographique);
            opacity: 0;
            animation: fadeInUp 1.5s ease-out 1s forwards;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .widget {
            background: rgba(9, 9, 11, 0.9);
            border: 2px solid rgba(167, 139, 250, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(15px);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            min-height: 200px;
        }

        .widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(167, 139, 250, 0.05), transparent);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .widget:hover::before {
            opacity: 1;
        }

        .widget:hover {
            border-color: rgba(167, 139, 250, 0.6);
            box-shadow: 0 0 40px rgba(167, 139, 250, 0.3);
            transform: translateY(-5px);
        }

        .widget-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .widget-title {
            font-family: 'Cormorant', serif;
            font-size: 1.4em;
            font-weight: 600;
            color: var(--violet-lunaire);
            text-shadow: 0 0 15px rgba(167, 139, 250, 0.5);
        }

        .widget-icon {
            font-size: 1.8em;
            color: var(--bleu-spectre);
            text-shadow: 0 0 15px rgba(96, 165, 250, 0.6);
        }

        .widget-content {
            height: calc(100% - 60px);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .metric-display {
            text-align: center;
            margin-bottom: 20px;
        }

        .metric-value {
            font-family: 'Cormorant', serif;
            font-size: 2.5em;
            font-weight: 700;
            color: var(--violet-lunaire);
            text-shadow: 0 0 20px rgba(167, 139, 250, 0.6);
            margin-bottom: 10px;
            display: block;
        }

        .metric-label {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.9em;
            color: var(--argent-holographique);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .chart-container {
            width: 100%;
            height: 120px;
            position: relative;
            margin-top: 20px;
        }

        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 20px;
            background: linear-gradient(180deg, var(--violet-lunaire), var(--bleu-spectre));
            border-radius: 3px 3px 0 0;
            transition: height 1s ease-out;
            box-shadow: 0 0 10px rgba(167, 139, 250, 0.4);
        }

        .chart-bar:nth-child(1) {
            left: 10%;
            animation-delay: 0.1s;
        }

        .chart-bar:nth-child(2) {
            left: 25%;
            animation-delay: 0.2s;
        }

        .chart-bar:nth-child(3) {
            left: 40%;
            animation-delay: 0.3s;
        }

        .chart-bar:nth-child(4) {
            left: 55%;
            animation-delay: 0.4s;
        }

        .chart-bar:nth-child(5) {
            left: 70%;
            animation-delay: 0.5s;
        }

        .chart-bar:nth-child(6) {
            left: 85%;
            animation-delay: 0.6s;
        }

        .chart-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: chartShine 2s ease-in-out infinite;
        }

        @keyframes chartShine {
            0% {
                opacity: 0;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        .progress-ring {
            width: 120px;
            height: 120px;
            margin: 0 auto;
            position: relative;
        }

        .progress-ring svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-ring circle {
            fill: none;
            stroke-width: 8;
            stroke-linecap: round;
        }

        .progress-ring .bg {
            stroke: rgba(167, 139, 250, 0.2);
        }

        .progress-ring .progress {
            stroke: var(--violet-lunaire);
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1.5s ease-out;
            filter: drop-shadow(0 0 10px rgba(167, 139, 250, 0.6));
        }

        .progress-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .progress-percentage {
            font-family: 'Cormorant', serif;
            font-size: 1.8em;
            font-weight: 700;
            color: var(--violet-lunaire);
            text-shadow: 0 0 15px rgba(167, 139, 250, 0.6);
        }

        .notifications-panel {
            background: rgba(9, 9, 11, 0.9);
            border: 2px solid rgba(167, 139, 250, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(15px);
            margin-bottom: 30px;
        }

        .notifications-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .notifications-title {
            font-family: 'Cormorant', serif;
            font-size: 1.6em;
            font-weight: 600;
            color: var(--violet-lunaire);
            text-shadow: 0 0 15px rgba(167, 139, 250, 0.5);
        }

        .notification-item {
            background: rgba(167, 139, 250, 0.1);
            border: 1px solid rgba(167, 139, 250, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            opacity: 0;
            animation: notificationSlideIn 0.6s ease-out forwards;
        }

        .notification-item:nth-child(1) {
            animation-delay: 0.2s;
        }

        .notification-item:nth-child(2) {
            animation-delay: 0.4s;
        }

        .notification-item:nth-child(3) {
            animation-delay: 0.6s;
        }

        @keyframes notificationSlideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .notification-item:hover {
            border-color: rgba(167, 139, 250, 0.4);
            box-shadow: 0 0 20px rgba(167, 139, 250, 0.2);
            transform: translateX(5px);
        }

        .notification-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .notification-icon {
            font-size: 1.2em;
            margin-right: 10px;
        }

        .notification-title {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.9em;
            color: var(--violet-lunaire);
            font-weight: 600;
        }

        .notification-time {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.7em;
            color: var(--argent-holographique);
            margin-left: auto;
        }

        .notification-message {
            font-family: 'Inter', sans-serif;
            font-size: 0.9em;
            color: var(--argent-holographique);
            line-height: 1.4;
        }

        .real-time-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(167, 139, 250, 0.1);
            border: 1px solid rgba(167, 139, 250, 0.3);
            border-radius: 8px;
            padding: 8px 12px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.8em;
            color: var(--argent-holographique);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .real-time-dot {
            width: 8px;
            height: 8px;
            background: var(--violet-lunaire);
            border-radius: 50%;
            animation: realTimePulse 2s ease-in-out infinite;
        }

        @keyframes realTimePulse {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
        }

        .luna-insights {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(167, 139, 250, 0.1);
            border: 1px solid rgba(167, 139, 250, 0.3);
            border-radius: 10px;
            padding: 15px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.8em;
            color: var(--argent-holographique);
            backdrop-filter: blur(10px);
            max-width: 300px;
            opacity: 0;
            animation: fadeIn 2s ease-out 3s forwards;
        }

        .luna-insights::before {
            content: '🌙 LUNA:';
            font-weight: bold;
            color: var(--violet-lunaire);
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .dashboard-title {
                font-size: 2.2em;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .widget {
                min-height: 180px;
            }

            .real-time-indicator {
                position: static;
                margin: 20px auto;
                width: fit-content;
            }

            .luna-insights {
                position: static;
                margin: 20px auto;
                max-width: none;
            }
        }
    </style>
</head>

<body>
    <!-- Skip Links pour accessibilité -->
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>
    <a href="#navigation" class="skip-link">Aller à la navigation</a>

    <!-- Panneau d'accessibilité -->
    {% include 'components/accessibility_toggle.html' %}

    <!-- Navigation LUNA -->
    <div id="navigation">
        {% set active_page = 'dashboard' %}
        {% include 'components/navbar.html' with context %}
    </div>

    <main id="main-content" class="dashboard-workspace">
        <!-- Fond animé du dashboard -->
        <div class="dashboard-background"></div>

        <!-- Indicateur temps réel -->
        <div class="real-time-indicator">
            <div class="real-time-dot"></div>
            <span>LIVE DATA</span>
        </div>

        <div class="dashboard-container">
            <!-- En-tête du dashboard -->
            <div class="dashboard-header">
                <h1 class="dashboard-title" id="dashboard-title">DASHBOARD</h1>
                <p class="dashboard-subtitle" id="dashboard-subtitle">Centre de contrôle de ta progression</p>
            </div>

            <!-- Grille des widgets -->
            <div class="dashboard-grid">
                <!-- Widget Score Total -->
                <div class="widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Score Total</h3>
                        <span class="widget-icon">🏆</span>
                    </div>
                    <div class="widget-content">
                        <div class="metric-display">
                            <span class="metric-value" id="total-score">N/A</span>
                            <div class="metric-label">Points Accumulés</div>
                        </div>
                    </div>
                </div>

                <!-- Widget Niveau Actuel -->
                <div class="widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Niveau Actuel</h3>
                        <span class="widget-icon">⭐</span>
                    </div>
                    <div class="widget-content">
                        <div class="progress-ring">
                            <svg>
                                <circle class="bg" cx="60" cy="60" r="45"></circle>
                                <circle class="progress" cx="60" cy="60" r="45"></circle>
                            </svg>
                            <div class="progress-center">
                                <div class="progress-percentage" id="level-percentage">N/A</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Widget Missions -->
                <div class="widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Missions</h3>
                        <span class="widget-icon">🎯</span>
                    </div>
                    <div class="widget-content">
                        <div class="metric-display">
                            <span class="metric-value" id="missions-completed">N/A</span>
                            <div class="metric-label">Missions Complétées</div>
                        </div>
                        <div class="chart-container" id="missions-chart">
                            <!-- Graphique sera généré dynamiquement -->
                        </div>
                    </div>
                </div>

                <!-- Widget Badges -->
                <div class="widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Badges</h3>
                        <span class="widget-icon">🏅</span>
                    </div>
                    <div class="widget-content">
                        <div class="metric-display">
                            <span class="metric-value" id="badges-count">N/A</span>
                            <div class="metric-label">Badges Obtenus</div>
                        </div>
                    </div>
                </div>

                <!-- Widget Performance -->
                <div class="widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Performance</h3>
                        <span class="widget-icon">📈</span>
                    </div>
                    <div class="widget-content">
                        <div class="metric-display">
                            <span class="metric-value" id="performance-score">N/A</span>
                            <div class="metric-label">Score de Performance</div>
                        </div>
                    </div>
                </div>

                <!-- Widget Temps de Jeu -->
                <div class="widget">
                    <div class="widget-header">
                        <h3 class="widget-title">Temps de Jeu</h3>
                        <span class="widget-icon">⏱️</span>
                    </div>
                    <div class="widget-content">
                        <div class="metric-display">
                            <span class="metric-value" id="play-time">N/A</span>
                            <div class="metric-label">Heures Jouées</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Panneau des notifications -->
            <div class="notifications-panel">
                <div class="notifications-header">
                    <h3 class="notifications-title">Notifications LUNA</h3>
                </div>
                <div id="notifications-container">
                    <!-- Notifications seront chargées dynamiquement -->
                </div>
            </div>
        </div>

        <!-- Insights LUNA -->
        <div class="luna-insights" id="luna-insights">
            Analyse de tes performances en cours...
        </div>
    </main>

    <!-- Scripts LUNA VISION -->
    <script src="{{ url_for('static', filename='js/navigation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/audio-manager.js') }}"></script>
    <script src="{{ url_for('static', filename='js/effects.js') }}"></script>
    <script src="{{ url_for('static', filename='js/accessibility.js') }}"></script>
    <script src="{{ url_for('static', filename='js/game-engine.js') }}"></script>
    <script src="{{ url_for('static', filename='js/mission-system.js') }}"></script>
    <script src="{{ url_for('static', filename='js/luna-personality.js') }}"></script>
    <script src="{{ url_for('static', filename='js/personalized-messages.js') }}"></script>
    <script src="{{ url_for('static', filename='js/performance-ux-optimizer.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bug-fixes.js') }}"></script>
    <script src="{{ url_for('static', filename='js/reward-system.js') }}"></script>
    <script src="{{ url_for('static', filename='js/system-integrator.js') }}"></script>

    <script>
        // Charger les données du dashboard
        async function loadDashboardData() {
            try {
                const response = await fetch('/api/gamification/summary');
                const data = await response.json();

                if (data.success) {
                    updateDashboardMetrics(data);
                    updateProgressRing(data);
                    updateMissionsChart(data);
                    updateNotifications(data);
                    updateLunaInsights(data);
                }
            } catch (error) {
                console.error('Erreur chargement dashboard:', error);
            }
        }

        function updateDashboardMetrics(data) {
            // Améliorer l'affichage des valeurs par défaut
            document.getElementById('total-score').textContent = data.total_score > 0 ? data.total_score : 'N/A';
            document.getElementById('missions-completed').textContent = data.missions_completees > 0 ? data.missions_completees : 'N/A';
            document.getElementById('badges-count').textContent = data.badges_count > 0 ? data.badges_count : 'N/A';
            document.getElementById('performance-score').textContent = data.total_score > 0 ? Math.round(data.total_score / 10) : 'N/A';
            document.getElementById('play-time').textContent = data.total_score > 0 ? Math.round(data.total_score / 100) : 'N/A';
        }

        function updateProgressRing(data) {
            const levelProgress = data.level_progress || 0;
            const progressCircle = document.querySelector('.progress-ring .progress');
            const percentageText = document.getElementById('level-percentage');

            const circumference = 2 * Math.PI * 45;
            const offset = circumference - (levelProgress / 100) * circumference;

            progressCircle.style.strokeDashoffset = offset;
            percentageText.textContent = Math.round(levelProgress) + '%';
        }

        function updateMissionsChart(data) {
            const chartContainer = document.getElementById('missions-chart');
            chartContainer.innerHTML = '';

            // Données simulées pour le graphique
            const missionData = [65, 80, 45, 90, 70, 85];

            missionData.forEach((value, index) => {
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = value + '%';
                bar.style.animationDelay = (index * 0.1) + 's';
                chartContainer.appendChild(bar);
            });
        }

        function updateNotifications(data) {
            const container = document.getElementById('notifications-container');
            container.innerHTML = '';

            const notifications = [];
            if ((data.missions_completees || 0) > 0) {
                notifications.push({
                    icon: '🎯',
                    title: 'Mission Complétée',
                    message: `Félicitations ! Tu as complété ta ${data.missions_completees}e mission.`,
                    time: 'Il y a 2 min'
                });
            }
            if ((data.current_level || 0) > 1) {
                notifications.push({
                    icon: '⭐',
                    title: 'Niveau Atteint',
                    message: `Tu as atteint le niveau ${data.current_level}. Continue comme ça !`,
                    time: 'Il y a 15 min'
                });
            }
            if ((data.badges_count || 0) > 0) {
                notifications.push({
                    icon: '🏅',
                    title: 'Badge Débloqué',
                    message: `Nouveau badge obtenu ! Tu as maintenant ${data.badges_count} badges.`,
                    time: 'Il y a 1h'
                });
            }

            notifications.forEach((notification, index) => {
                const item = document.createElement('div');
                item.className = 'notification-item';
                item.innerHTML = `
                    <div class="notification-header">
                        <span class="notification-icon">${notification.icon}</span>
                        <span class="notification-title">${notification.title}</span>
                        <span class="notification-time">${notification.time}</span>
                    </div>
                    <div class="notification-message">${notification.message}</div>
                `;
                container.appendChild(item);
            });
        }

        function updateLunaInsights(data) {
            const insights = document.getElementById('luna-insights');

            let message = '';
            if (data.total_score >= 1000) {
                message = "Tes performances sont exceptionnelles ! Tu domines le classement.";
            } else if (data.missions_completees >= 10) {
                message = "Tu progresses rapidement. Tes missions révèlent ton potentiel.";
            } else if (data.badges_count >= 5) {
                message = "Tes badges montrent ta diversité. Continue d'explorer !";
            } else {
                message = "Bienvenue dans ton dashboard ! Je surveille tes progrès.";
            }

            insights.textContent = message;
        }

        // Mise à jour en temps réel
        function startRealTimeUpdates() {
            setInterval(() => {
                loadDashboardData();
            }, 30000); // Mise à jour toutes les 30 secondes
        }

        // Animation du titre
        document.addEventListener('DOMContentLoaded', () => {
            loadDashboardData();
            startRealTimeUpdates();

            // Animation du titre
            setTimeout(() => {
                const title = document.getElementById('dashboard-title');
                if (window.lunaVision && title) {
                    window.lunaVision.typeText(title, "DASHBOARD", 80);
                }
            }, 1000);

            // Animation du sous-titre
            setTimeout(() => {
                const subtitle = document.getElementById('dashboard-subtitle');
                if (window.lunaVision && subtitle) {
                    window.lunaVision.typeText(subtitle, "Centre de contrôle de ta progression", 40);
                }
            }, 2000);

            // Message de LUNA
            setTimeout(() => {
                if (window.lunaVision) {
                    window.lunaVision.showLunaMessage("Ton dashboard se met à jour en temps réel...", 4000);
                    window.lunaVision.setEmotion('analytical');
                }
            }, 3000);

            // Interactions avec les widgets
            const widgets = document.querySelectorAll('.widget');
            widgets.forEach((widget, index) => {
                widget.addEventListener('mouseenter', () => {
                    if (window.lunaVision) {
                        const titles = ['Score Total', 'Niveau Actuel', 'Missions', 'Badges', 'Performance', 'Temps de Jeu'];
                        window.lunaVision.showLunaMessage(`Analyse de ton ${titles[index]}...`, 2000);
                    }
                });
            });
        });
    </script>

    <!-- Scripts des systèmes adaptatifs -->
    <script src="{{ url_for('static', filename='js/adaptive-guidance.js') }}"></script>
    <script src="{{ url_for('static', filename='js/progression-feedback.js') }}"></script>
    <script src="{{ url_for('static', filename='js/competitive-system.js') }}"></script>
    <script src="{{ url_for('static', filename='js/creative-system.js') }}"></script>
    <script src="{{ url_for('static', filename='js/casual-system.js') }}"></script>

    <script>
        // Initialisation des systèmes adaptatifs
        document.addEventListener('DOMContentLoaded', function () {
            console.log('📊 Systèmes adaptatifs initialisés dans le dashboard');

            // Initialiser le système de guidance adaptative
            if (window.adaptiveGuidance) {
                console.log('✅ Guidance adaptative active');
            }

            // Initialiser le système de feedback de progression
            if (window.progressionFeedback) {
                console.log('✅ Feedback de progression actif');
            }

            // Initialiser le système compétitif
            if (window.competitiveSystem) {
                console.log('✅ Système compétitif actif');
            }

            // Initialiser le système créatif
            if (window.creativeSystem) {
                console.log('✅ Système créatif actif');
            }

            // Initialiser le système casual
            if (window.casualSystem) {
                console.log('✅ Système casual actif');
            }
        });
    </script>
</body>

</html>