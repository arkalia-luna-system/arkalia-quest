/**
 * Optimisations de performance CSS pour Arkalia Quest
 */

/* ===== OPTIMISATIONS GÉNÉRALES ===== */

/* Utiliser will-change pour les éléments animés */
.animated,
.pulse,
.glow,
.matrix-effect,
.terminal-cursor {
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Optimiser les transitions */
* {
    transition-duration: 0.2s;
    transition-timing-function: ease-out;
}

/* Réduire les reflows */
.performance-mode * {
    transition: none !important;
    animation: none !important;
}

/* ===== OPTIMISATIONS DES ANIMATIONS ===== */

/* Animations optimisées avec transform */
@keyframes optimized-pulse {

    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
}

@keyframes optimized-glow {

    0%,
    100% {
        box-shadow: 0 0 5px #00ff00;
    }

    50% {
        box-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00;
    }
}

@keyframes optimized-matrix {
    0% {
        transform: translateY(-100vh);
        opacity: 0;
    }

    10%,
    90% {
        opacity: 1;
    }

    100% {
        transform: translateY(100vh);
        opacity: 0;
    }
}

/* ===== OPTIMISATIONS DU TERMINAL ===== */

.terminal {
    contain: layout style paint;
    transform: translateZ(0);
}

.terminal-output {
    contain: layout;
    overflow-anchor: auto;
}

.terminal-input {
    contain: layout style;
}

/* ===== OPTIMISATIONS DES EFFETS MATRIX ===== */

.matrix-container {
    contain: layout style paint;
    transform: translateZ(0);
}

.matrix-char {
    will-change: transform, opacity;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS RESPONSIVE ===== */

/* Utiliser des unités relatives pour de meilleures performances */
.responsive-container {
    width: 100%;
    max-width: 100vw;
    height: 100vh;
    overflow: hidden;
}

/* Optimiser les media queries */
@media (max-width: 768px) {
    .performance-mode .animated {
        animation-duration: 0.1s;
    }

    .performance-mode .pulse {
        animation: none;
    }
}

@media (max-width: 480px) {
    .performance-mode * {
        transition: none;
        animation: none;
    }
}

/* ===== OPTIMISATIONS DES IMAGES ===== */

img {
    max-width: 100%;
    height: auto;
    image-rendering: optimizeSpeed;
    image-rendering: -webkit-optimize-contrast;
}

.lazy-image {
    opacity: 0;
    transition: opacity 0.3s ease;
}

.lazy-image.loaded {
    opacity: 1;
}

/* ===== OPTIMISATIONS DES FONTS ===== */

@font-face {
    font-family: 'Hack';
    font-display: swap;
    /* Optimiser le chargement des polices */
    src: url('../fonts/Hack-Regular.woff2') format('woff2');
}

/* ===== OPTIMISATIONS DES SCROLLS ===== */

.scroll-container {
    overflow-y: auto;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Optimiser le scroll sur mobile */
@media (max-width: 768px) {
    .scroll-container {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: auto;
        /* Désactiver le smooth scroll sur mobile */
    }
}

/* ===== OPTIMISATIONS DES MODALES ===== */

.modal {
    contain: layout style paint;
    transform: translateZ(0);
}

.modal-backdrop {
    will-change: opacity;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES BOUTONS ===== */

.btn {
    contain: layout style;
    transform: translateZ(0);
}

.btn:hover {
    transform: translateZ(0) scale(1.05);
}

.btn:active {
    transform: translateZ(0) scale(0.95);
}

/* ===== OPTIMISATIONS DES FORMULAIRES ===== */

.form-group {
    contain: layout style;
}

.form-control {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES NAVIGATIONS ===== */

.navbar {
    contain: layout style paint;
    transform: translateZ(0);
}

.nav-item {
    contain: layout style;
}

/* ===== OPTIMISATIONS DES CARTES ===== */

.card {
    contain: layout style paint;
    transform: translateZ(0);
}

.card:hover {
    transform: translateZ(0) translateY(-2px);
}

/* ===== OPTIMISATIONS DES PROGRESS BARS ===== */

.progress {
    contain: layout style;
    transform: translateZ(0);
}

.progress-bar {
    will-change: width;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES TOOLTIPS ===== */

.tooltip {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES DROPDOWNS ===== */

.dropdown {
    contain: layout style paint;
    transform: translateZ(0);
}

.dropdown-menu {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES ACCORDÉONS ===== */

.accordion {
    contain: layout style;
}

.accordion-item {
    contain: layout style;
}

.accordion-content {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES TABS ===== */

.tabs {
    contain: layout style;
}

.tab-content {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES CAROUSELS ===== */

.carousel {
    contain: layout style paint;
    transform: translateZ(0);
}

.carousel-item {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES LAZY LOADING ===== */

.lazy-load {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.lazy-load.loaded {
    opacity: 1;
    transform: translateY(0);
}

/* ===== OPTIMISATIONS DES VIRTUAL SCROLLING ===== */

.virtual-scroll {
    contain: layout style paint;
    transform: translateZ(0);
}

.virtual-item {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES DRAG & DROP ===== */

.draggable {
    contain: layout style paint;
    transform: translateZ(0);
}

.dragging {
    will-change: transform;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES RESIZES ===== */

.resizable {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES SORTABLES ===== */

.sortable {
    contain: layout style;
}

.sortable-item {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES INFINITE SCROLLS ===== */

.infinite-scroll {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES SEARCHES ===== */

.search-container {
    contain: layout style;
}

.search-results {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES FILTERS ===== */

.filter-container {
    contain: layout style;
}

.filter-item {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES PAGINATIONS ===== */

.pagination {
    contain: layout style;
}

.pagination-item {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES BREADCRUMBS ===== */

.breadcrumb {
    contain: layout style;
}

.breadcrumb-item {
    contain: layout style;
}

/* ===== OPTIMISATIONS DES ALERTS ===== */

.alert {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES BADGES ===== */

.badge {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES SPINNERS ===== */

.spinner {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES SKELETONS ===== */

.skeleton {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES LOADING STATES ===== */

.loading {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES ERROR STATES ===== */

.error {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES SUCCESS STATES ===== */

.success {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES WARNING STATES ===== */

.warning {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES INFO STATES ===== */

.info {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES DARK MODES ===== */

.dark-mode {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES LIGHT MODES ===== */

.light-mode {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES HIGH CONTRAST MODES ===== */

.high-contrast {
    contain: layout style paint;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES REDUCED MOTION ===== */

@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ===== OPTIMISATIONS DES PRINT STYLES ===== */

@media print {
    * {
        animation: none !important;
        transition: none !important;
        transform: none !important;
    }
}

/* ===== OPTIMISATIONS DES FOCUS STATES ===== */

.focus-visible {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES HOVER STATES ===== */

.hover-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES ACTIVE STATES ===== */

.active-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES DISABLED STATES ===== */

.disabled-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES SELECTED STATES ===== */

.selected-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES CHECKED STATES ===== */

.checked-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES INDETERMINATE STATES ===== */

.indeterminate-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES REQUIRED STATES ===== */

.required-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES VALID STATES ===== */

.valid-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES INVALID STATES ===== */

.invalid-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES PENDING STATES ===== */

.pending-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES DIRTY STATES ===== */

.dirty-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES TOUCHED STATES ===== */

.touched-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES UNTOUCHED STATES ===== */

.untouched-optimized {
    contain: layout style;
    transform: translateZ(0);
}

/* ===== OPTIMISATIONS DES PRISTINE STATES ===== */

.pristine-optimized {
    contain: layout style;
    transform: translateZ(0);
}