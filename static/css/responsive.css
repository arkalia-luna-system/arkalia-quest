/* ===== ARKALIA QUEST - RESPONSIVE DESIGN AVANCÉ ===== */

/* APPROCHE MOBILE FIRST */

/* ===== CORRECTION TRONCATURE DE TEXTE ===== */
/* Éviter la troncature de texte sur tous les éléments */
* {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

/* Correction spécifique pour les blocs de texte */
.text-block,
.message-content,
.description,
.badge-description,
.hero-subtitle,
.luna-greeting,
.track-description {
    word-wrap: break-word;
    overflow-wrap: break-word;
    white-space: normal;
    line-height: 1.6;
    max-width: 100%;
}

/* Correction pour les titres */
h1,
h2,
h3,
h4,
h5,
h6 {
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.3;
}

/* Correction pour les boutons et liens */
.btn,
.nav-link,
.cta-btn {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}

/* ===== BREAKPOINTS PROFESSIONNELS ===== */

/* Mobile Extra Small (320px - 375px) - Très petits écrans */
@media (max-width: 375px) {
    :root {
        --font-size-base: 18px;
        --spacing-xs: 6px;
        --spacing-sm: 10px;
        --spacing-md: 14px;
        --spacing-lg: 20px;
        --spacing-xl: 28px;
    }

    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        max-width: 98vw;
        margin: 5px auto;
        padding: 10px;
    }

    .main-action-btn,
    .nav-button,
    .secondary-btn,
    .nav-btn,
    button {
        min-height: 48px;
        min-width: 48px;
        padding: 12px 16px;
        font-size: 16px;
        margin: 8px 4px;
    }

    h1 {
        font-size: 1.8em;
    }

    h2 {
        font-size: 1.5em;
    }

    h3 {
        font-size: 1.3em;
    }
}

/* Mobile Portrait (376px - 480px) - OPTIMISÉ ADOLESCENT */
@media (min-width: 376px) and (max-width: 480px) {
    :root {
        --font-size-base: 20px;
        /* Plus grand pour les ados */
        --spacing-xs: 8px;
        /* Plus d'espace */
        --spacing-sm: 12px;
        --spacing-md: 16px;
        --spacing-lg: 24px;
        /* Plus d'espace entre éléments */
        --spacing-xl: 32px;
    }

    /* Containers principaux */
    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        max-width: 95vw;
        margin: 10px auto;
        padding: 15px;
        border-radius: 12px;
    }

    /* Headers */
    .portal-container h1,
    .terminal-container h1,
    .monde-container h1,
    .profil-container h1 {
        font-size: 2em;
        margin-bottom: 20px;
    }

    /* Boutons tactiles optimisés ADOLESCENT */
    .main-action-btn,
    .nav-button,
    .secondary-btn,
    .nav-btn,
    button {
        min-height: 56px;
        /* Plus grand pour les doigts d'ados */
        min-width: 56px;
        padding: 16px 20px;
        /* Plus de padding */
        font-size: 18px;
        /* Texte plus grand */
        margin: 10px 6px;
        /* Plus d'espace entre boutons */
        border-radius: 12px;
        /* Plus arrondi, style moderne */
        font-weight: 600;
        /* Plus visible */
    }

    /* Navigation */
    .navigation {
        flex-direction: column;
        gap: 10px;
        padding: 10px;
    }

    .nav-buttons {
        flex-direction: column;
        gap: 12px;
    }

    .secondary-nav {
        flex-direction: column;
        gap: 10px;
    }

    /* Terminal */
    .terminal-output {
        min-height: 200px;
        max-height: 300px;
        font-size: 14px;
        padding: 10px;
    }

    .terminal-input {
        width: 100%;
        font-size: 16px;
        padding: 12px;
        margin: 8px 0;
    }

    .input-wrapper {
        flex-direction: column;
        gap: 8px;
    }

    .command-prompt {
        font-size: 14px;
        padding: 8px;
    }

    /* Profil */
    .profil-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }

    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }

    .badge {
        font-size: 12px;
        padding: 8px 12px;
    }

    /* Monde */
    .monde-content {
        grid-template-columns: 1fr;
        gap: 20px;
    }

    .portail {
        padding: 20px;
        margin: 10px 0;
    }

    /* Panneau d'accessibilité */
    .accessibility-panel {
        position: fixed;
        top: 10px;
        right: 10px;
        left: 10px;
        width: auto;
        max-width: none;
        z-index: 1000;
    }

    /* Messages contextuels */
    .contextual-message {
        font-size: 14px;
        padding: 10px 12px;
        margin: 6px 0;
    }

    .contextual-icon {
        font-size: 1.2em;
    }
}

/* Mobile Landscape (481px - 600px) */
@media (min-width: 481px) and (max-width: 600px) {
    :root {
        --font-size-base: 17px;
        --spacing-md: 16px;
        --spacing-lg: 24px;
    }

    /* Containers */
    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        max-width: 90vw;
        margin: 20px auto;
        padding: 25px;
    }

    /* Headers */
    .portal-container h1,
    .terminal-container h1,
    .monde-container h1,
    .profil-container h1 {
        font-size: 2.5em;
    }

    /* Navigation */
    .navigation {
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
    }

    .nav-buttons {
        flex-direction: column;
        gap: 15px;
    }

    .secondary-nav {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }

    /* Terminal */
    .terminal-output {
        min-height: 250px;
        max-height: 350px;
    }

    .input-wrapper {
        flex-direction: row;
        gap: 10px;
    }

    /* Profil */
    .profil-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
    }

    .stats-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
    }

    /* Monde */
    .monde-content {
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
    }

    /* Panneau d'accessibilité */
    .accessibility-panel {
        right: 15px;
        left: auto;
        width: 280px;
    }
}

/* Petite Tablette (601px - 768px) */
@media (min-width: 601px) and (max-width: 768px) {
    :root {
        --font-size-base: 18px;
        --spacing-md: 18px;
        --spacing-lg: 28px;
    }

    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        max-width: 90vw;
        margin: 15px auto;
        padding: 20px;
    }

    .main-action-btn,
    .nav-button,
    .secondary-btn,
    .nav-btn,
    button {
        min-height: 52px;
        min-width: 52px;
        padding: 14px 18px;
        font-size: 17px;
        margin: 8px 5px;
    }

    .navigation {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 12px;
    }

    .nav-buttons {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 10px;
    }

    h1 {
        font-size: 2.2em;
    }

    h2 {
        font-size: 1.8em;
    }

    h3 {
        font-size: 1.5em;
    }
}

/* Tablette Landscape (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
    :root {
        --font-size-base: 16px;
    }

    /* Containers */
    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        max-width: 85vw;
        margin: 30px auto;
        padding: 30px;
    }

    /* Headers */
    .portal-container h1,
    .terminal-container h1,
    .monde-container h1,
    .profil-container h1 {
        font-size: 2.8em;
    }

    /* Navigation */
    .nav-buttons {
        flex-direction: row;
        gap: 20px;
    }

    .secondary-nav {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
    }

    /* Terminal */
    .terminal-output {
        min-height: 300px;
        max-height: 400px;
    }

    /* Profil */
    .profil-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
    }

    .stats-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
    }

    /* Monde */
    .monde-content {
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
    }
}

/* Desktop Extra Large (1441px+) */
@media (min-width: 1441px) {
    :root {
        --font-size-base: 18px;
        --spacing-md: 24px;
        --spacing-lg: 40px;
        --spacing-xl: 60px;
    }

    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        max-width: 1400px;
        margin: 50px auto;
        padding: 50px;
    }

    .main-action-btn,
    .nav-button,
    .secondary-btn,
    .nav-btn,
    button {
        min-height: 64px;
        min-width: 64px;
        padding: 20px 28px;
        font-size: 20px;
        margin: 15px 10px;
    }

    h1 {
        font-size: 4em;
    }

    h2 {
        font-size: 3.2em;
    }

    h3 {
        font-size: 2.5em;
    }

    .monde-content {
        grid-template-columns: repeat(4, 1fr);
        gap: 40px;
    }

    .features-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 40px;
    }
}

/* Desktop Large (1025px - 1440px) */
@media (min-width: 1025px) and (max-width: 1440px) {

    /* Containers */
    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        max-width: 1200px;
        margin: 40px auto;
        padding: 40px;
    }

    /* Headers */
    .portal-container h1,
    .terminal-container h1,
    .monde-container h1,
    .profil-container h1 {
        font-size: 3em;
    }

    /* Navigation */
    .nav-buttons {
        flex-direction: row;
        gap: 25px;
    }

    .secondary-nav {
        display: flex;
        gap: 20px;
        justify-content: center;
    }

    /* Terminal */
    .terminal-output {
        min-height: 350px;
        max-height: 500px;
    }

    /* Profil */
    .profil-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 35px;
    }

    .stats-grid {
        grid-template-columns: repeat(5, 1fr);
        gap: 25px;
    }

    /* Monde */
    .monde-content {
        grid-template-columns: repeat(4, 1fr);
        gap: 35px;
    }
}

/* ===== ORIENTATION ===== */

/* Portrait */
@media (orientation: portrait) {
    .terminal-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
    }

    .terminal-output {
        flex: 1;
        min-height: 200px;
    }
}

/* Landscape */
@media (orientation: landscape) and (max-height: 500px) {
    .terminal-container {
        height: 100vh;
    }

    .terminal-output {
        max-height: 60vh;
    }

    .terminal-header {
        padding: 8px 16px;
        font-size: 0.8em;
    }
}

/* ===== DENSITÉ D'ÉCRAN ===== */

/* Écrans haute densité */
@media (-webkit-min-device-pixel-ratio: 2),
(min-resolution: 192dpi) {

    .badge,
    .stat-item,
    .portail {
        border-width: 1px;
    }

    .main-action-btn,
    .nav-button,
    .secondary-btn {
        border-width: 2px;
    }
}

/* ===== PREFERS-REDUCED-MOTION ===== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* ===== PREFERS-COLOR-SCHEME ===== */

@media (prefers-color-scheme: dark) {
    :root {
        --background-color: #000000;
        --text-color: #ffffff;
    }
}

@media (prefers-color-scheme: light) {
    :root {
        --background-color: #ffffff;
        --text-color: #000000;
        --primary-color: #006600;
        --secondary-color: #006666;
    }
}

/* ===== GESTES TACTILES ===== */

/* Optimisation pour les gestes tactiles */
@media (pointer: coarse) {

    /* Éléments tactiles plus grands */
    button,
    .nav-button,
    .main-action-btn,
    .secondary-btn,
    .nav-btn {
        min-height: 44px;
        min-width: 44px;
        padding: 12px 20px;
    }

    /* Espacement pour éviter les clics accidentels */
    .nav-buttons {
        gap: 15px;
    }

    .secondary-nav {
        gap: 12px;
    }

    /* Scroll tactile optimisé */
    .terminal-output {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
}

/* ===== PERFORMANCE MOBILE ===== */

/* Optimisations pour appareils moins puissants */
@media (max-width: 768px) {

    /* Réduire les animations sur mobile */
    body::before,
    body::after {
        animation-duration: 30s;
    }

    /* Optimiser les effets visuels */
    .portal-container,
    .terminal-container,
    .monde-container,
    .profil-container {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
    }

    /* Réduire les ombres */
    .main-action-btn,
    .nav-button,
    .secondary-btn {
        box-shadow: 0 2px 8px rgba(0, 255, 0, 0.3);
    }
}

/* ===== ACCESSIBILITÉ RESPONSIVE ===== */

/* Focus visible sur tous les appareils */
@media (any-hover: none) {

    /* Sur les appareils tactiles, toujours montrer le focus */
    button:focus,
    input:focus,
    a:focus {
        outline: 3px solid var(--secondary-color);
        outline-offset: 2px;
    }
}

/* ===== UTILITAIRES RESPONSIVE ===== */

/* Classes utilitaires pour le responsive */
.hide-mobile {
    display: none;
}

@media (min-width: 769px) {
    .hide-mobile {
        display: block;
    }

    .show-mobile {
        display: none;
    }
}

/* Centrage responsive */
.center-mobile {
    text-align: center;
}

@media (min-width: 769px) {
    .center-mobile {
        text-align: left;
    }
}

/* Espacement responsive */
.spacing-responsive {
    margin: var(--spacing-md);
}

@media (min-width: 769px) {
    .spacing-responsive {
        margin: var(--spacing-lg);
    }
}